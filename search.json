[{"title":"å¯¹ä¼ å…¥ç»„ä»¶çš„propsè¿›è¡Œé™åˆ¶","url":"/%E5%AF%B9%E4%BC%A0%E5%85%A5%E7%BB%84%E4%BB%B6%E7%9A%84props%E8%BF%9B%E8%A1%8C%E9%99%90%E5%88%B6/","content":"yarn add prop-types\n\nå…ˆæ·»åŠ è¿™ä¸ªåŒ…\nå¦‚æœåœ¨Appç»„ä»¶å†…å‘å­ç»„ä»¶ä¼ é€’äº†propsï¼Œå¯ä»¥åœ¨å­ç»„ä»¶ä¸­å¯¹è¿™ä¸ªpropsè¿›è¡Œé™åˆ¶ï¼š\n//App.jsx&lt;Child sayHello=&#123;this.sayHello&#125;/&gt;//Child.jsximport PropsTypes from &#x27;prop-types&#x27; //å¯¼å…¥static propTypes = &#123;  sayHello: PropTypes.func.isRequired //é™åˆ¶è¿™ä¸ªpropså¿…é¡»æ˜¯å‡½æ•°ï¼Œè€Œä¸”å¿…é¡»ä¼ é€’&#125;\n\nä¸‹é¢æ˜¯å®˜æ–¹ç»™å‡ºçš„propTypesè¯´æ˜ï¼š\nMyComponent.propTypes = &#123;  // ä½ å¯ä»¥å°†å±æ€§å£°æ˜ä¸º JS åŸç”Ÿç±»å‹ï¼Œé»˜è®¤æƒ…å†µä¸‹  // è¿™äº›å±æ€§éƒ½æ˜¯å¯é€‰çš„ã€‚  optionalArray: PropTypes.array,  optionalBool: PropTypes.bool,  optionalFunc: PropTypes.func,  optionalNumber: PropTypes.number,  optionalObject: PropTypes.object,  optionalString: PropTypes.string,  optionalSymbol: PropTypes.symbol,  // ä»»ä½•å¯è¢«æ¸²æŸ“çš„å…ƒç´ ï¼ˆåŒ…æ‹¬æ•°å­—ã€å­—ç¬¦ä¸²ã€å…ƒç´ æˆ–æ•°ç»„ï¼‰  // (æˆ– Fragment) ä¹ŸåŒ…å«è¿™äº›ç±»å‹ã€‚  optionalNode: PropTypes.node,  // ä¸€ä¸ª React å…ƒç´ ã€‚  optionalElement: PropTypes.element,  // ä¸€ä¸ª React å…ƒç´ ç±»å‹ï¼ˆå³ï¼ŒMyComponentï¼‰ã€‚  optionalElementType: PropTypes.elementType,  // ä½ ä¹Ÿå¯ä»¥å£°æ˜ prop ä¸ºç±»çš„å®ä¾‹ï¼Œè¿™é‡Œä½¿ç”¨  // JS çš„ instanceof æ“ä½œç¬¦ã€‚  optionalMessage: PropTypes.instanceOf(Message),  // ä½ å¯ä»¥è®©ä½ çš„ prop åªèƒ½æ˜¯ç‰¹å®šçš„å€¼ï¼ŒæŒ‡å®šå®ƒä¸º  // æšä¸¾ç±»å‹ã€‚  optionalEnum: PropTypes.oneOf([&#x27;News&#x27;, &#x27;Photos&#x27;]),  // ä¸€ä¸ªå¯¹è±¡å¯ä»¥æ˜¯å‡ ç§ç±»å‹ä¸­çš„ä»»æ„ä¸€ä¸ªç±»å‹  optionalUnion: PropTypes.oneOfType([    PropTypes.string,    PropTypes.number,    PropTypes.instanceOf(Message)  ]),  // å¯ä»¥æŒ‡å®šä¸€ä¸ªæ•°ç»„ç”±æŸä¸€ç±»å‹çš„å…ƒç´ ç»„æˆ  optionalArrayOf: PropTypes.arrayOf(PropTypes.number),  // å¯ä»¥æŒ‡å®šä¸€ä¸ªå¯¹è±¡ç”±æŸä¸€ç±»å‹çš„å€¼ç»„æˆ  optionalObjectOf: PropTypes.objectOf(PropTypes.number),  // å¯ä»¥æŒ‡å®šä¸€ä¸ªå¯¹è±¡ç”±ç‰¹å®šçš„ç±»å‹å€¼ç»„æˆ  optionalObjectWithShape: PropTypes.shape(&#123;    color: PropTypes.string,    fontSize: PropTypes.number  &#125;),  // An object with warnings on extra properties  optionalObjectWithStrictShape: PropTypes.exact(&#123;    name: PropTypes.string,    quantity: PropTypes.number  &#125;),  // ä½ å¯ä»¥åœ¨ä»»ä½• PropTypes å±æ€§åé¢åŠ ä¸Š `isRequired` ï¼Œç¡®ä¿  // è¿™ä¸ª prop æ²¡æœ‰è¢«æä¾›æ—¶ï¼Œä¼šæ‰“å°è­¦å‘Šä¿¡æ¯ã€‚  requiredFunc: PropTypes.func.isRequired,  // ä»»æ„ç±»å‹çš„å¿…éœ€æ•°æ®  requiredAny: PropTypes.any.isRequired,  // ä½ å¯ä»¥æŒ‡å®šä¸€ä¸ªè‡ªå®šä¹‰éªŒè¯å™¨ã€‚å®ƒåœ¨éªŒè¯å¤±è´¥æ—¶åº”è¿”å›ä¸€ä¸ª Error å¯¹è±¡ã€‚  // è¯·ä¸è¦ä½¿ç”¨ `console.warn` æˆ–æŠ›å‡ºå¼‚å¸¸ï¼Œå› ä¸ºè¿™åœ¨ `oneOfType` ä¸­ä¸ä¼šèµ·ä½œç”¨ã€‚  customProp: function(props, propName, componentName) &#123;    if (!/matchme/.test(props[propName])) &#123;      return new Error(        &#x27;Invalid prop `&#x27; + propName + &#x27;` supplied to&#x27; +        &#x27; `&#x27; + componentName + &#x27;`. Validation failed.&#x27;      );    &#125;  &#125;,  // ä½ ä¹Ÿå¯ä»¥æä¾›ä¸€ä¸ªè‡ªå®šä¹‰çš„ `arrayOf` æˆ– `objectOf` éªŒè¯å™¨ã€‚  // å®ƒåº”è¯¥åœ¨éªŒè¯å¤±è´¥æ—¶è¿”å›ä¸€ä¸ª Error å¯¹è±¡ã€‚  // éªŒè¯å™¨å°†éªŒè¯æ•°ç»„æˆ–å¯¹è±¡ä¸­çš„æ¯ä¸ªå€¼ã€‚éªŒè¯å™¨çš„å‰ä¸¤ä¸ªå‚æ•°  // ç¬¬ä¸€ä¸ªæ˜¯æ•°ç»„æˆ–å¯¹è±¡æœ¬èº«  // ç¬¬äºŒä¸ªæ˜¯ä»–ä»¬å½“å‰çš„é”®ã€‚  customArrayProp: PropTypes.arrayOf(function(propValue, key, componentName, location, propFullName) &#123;    if (!/matchme/.test(propValue[key])) &#123;      return new Error(        &#x27;Invalid prop `&#x27; + propFullName + &#x27;` supplied to&#x27; +        &#x27; `&#x27; + componentName + &#x27;`. Validation failed.&#x27;      );    &#125;  &#125;)&#125;;\n\nä½¿ç”¨ PropTypes è¿›è¡Œç±»å‹æ£€æŸ¥ - React\n","categories":["è®¡ç®—æœº","React"]},{"title":"æ•°ç»„æ–¹æ³•","url":"/%E6%95%B0%E7%BB%84%E6%96%B9%E6%B3%95/","content":"filter()æ¥æ”¶ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªæ–°æ•°ç»„ï¼Œæ–°æ•°ç»„ä¸­åŒ…å«è¾¾åˆ°æ¡ä»¶çš„å…ƒç´ \nconst arr = [12,5,1,567,9,4,32,75];const newArr = arr.filter(item =&gt; item &gt; 10) //å¤§äº10çš„æ•°ï¼Œéƒ½ä¼šè¢«æ”¾åˆ°æ–°æ•°ç»„ä¸­console.log(newArr)\n\nç»“æœï¼š\n\nreduce()å…ƒç´ ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½ä¼šå‚ä¸reduceå‚æ•°ä¸­çš„å›è°ƒå‡½æ•°çš„è¿ç®—\nä¼ å…¥ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå›è°ƒå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸Šä¸€æ¬¡å›è°ƒå‡½æ•°æ‰§è¡Œçš„ç»“æœï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ç›®å‰çš„æ•°ç»„å…ƒç´ ã€‚(å¯é€‰)ä¼ å…¥çš„ç¬¬äºŒä¸ªå‚æ•°ä½œä¸ºç¬¬ä¸€æ¬¡æ‰§è¡Œå›è°ƒå‡½æ•°æ—¶ï¼Œå›è°ƒå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚\nå¦‚æœç¬¬äºŒä¸ªå‚æ•°æ²¡æœ‰æŒ‡å®šï¼Œåˆ™å›è°ƒå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¼šä½¿ç”¨æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¼šä½¿ç”¨æ•°ç»„çš„ç¬¬äºŒä¸ªå…ƒç´ \nconst arr = [12,5,1,567,9,4,32,75];const newArr = arr.reduce(  (previous,current) =&gt; previous + current,  0)console.log(newArr)\n\nreduceré€ä¸ªéå†æ•°ç»„å…ƒç´ ï¼Œæ¯ä¸€æ­¥éƒ½å°†å½“å‰å…ƒç´ çš„å€¼ä¸ä¸Šä¸€æ­¥çš„è®¡ç®—ç»“æœç›¸åŠ ï¼ˆä¸Šä¸€æ­¥çš„è®¡ç®—ç»“æœæ˜¯å½“å‰å…ƒç´ ä¹‹å‰æ‰€æœ‰å…ƒç´ çš„æ€»å’Œï¼‰â€”â€”ç›´åˆ°æ²¡æœ‰æ›´å¤šçš„å…ƒç´ è¢«ç›¸åŠ \nç»“æœï¼š\n\nreduceæµ‹è¯•é¢˜[1,2,3,4].reduce((x,y) =&gt; console.log(x,y))\n\næ€è€ƒï¼šä¸Šé¢çš„ä»£ç ä¼šè¾“å‡ºä»€ä¹ˆï¼Ÿ\nmap()æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼Œå…¶ç»“æœæ˜¯è¯¥æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ æ˜¯è°ƒç”¨ä¸€æ¬¡å›è°ƒå‡½æ•°åçš„è¿”å›å€¼ã€‚\nconst arr = [12,5,1,567,9,4,32,75];const newArr = arr.map((item) =&gt; item+=1)console.log(arr)console.log(newArr)\n\nä½¿ç”¨mapéå†æ•°ç»„ï¼ŒæŠŠæ¯ä¸ªå…ƒç´  +1 ï¼Œç»„æˆæ–°æ•°ç»„\nçœ‹ç»“æœï¼š\n\n","categories":["è®¡ç®—æœº","JavaScript"]},{"title":"Reactç»„ä»¶ç”Ÿå‘½å‘¨æœŸ","url":"/React%E7%BB%84%E4%BB%B6%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/","content":"æ—§ç‰ˆæœ¬ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ\næ¯æ¬¡æ‰§è¡Œæ›´æ–°æ—¶ï¼ŒshouldComponentUpdate éƒ½ä¼šè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼\nå¦‚æœæ˜¯true (é»˜è®¤)ï¼Œåˆ™ç»§ç»­å¾€ä¸‹æ‰§è¡Œ\nå¦‚æœæ˜¯false ï¼Œåˆ™åœæ­¢æ›´æ–°\nshouldComponentUpdate æ–¹æ³•é™¤éå¼€å‘è€…è‡ªå®šä¹‰ï¼Œå¦åˆ™é»˜è®¤è¿”å›true\n\ncomponentWillReceiveProps å¹¶ä¸ä¼šåœ¨ç¬¬ä¸€æ¬¡æ”¶åˆ°propså°±æ‰§è¡Œï¼Œè€Œæ˜¯ä»ç¬¬äºŒæ¬¡å¼€å§‹ç®—èµ·\n.buttonVisited&#123;    background-color: red;    color: white;&#125;&lt;div id=&quot;box&quot;&gt;&lt;/div&gt;&lt;script type=&quot;text/babel&quot;&gt;    class Benz extends React.Component&#123;        componentWillReceiveProps(props)&#123;            console.log(props);            console.log(&#x27;CarBenz-----ComponentWillReceiveProps&#x27;, props);        &#125;        render()&#123;            return(                &lt;div&gt;                    &lt;h2&gt;æˆ‘æ˜¯å¥”é©°,æˆ‘æ”¶åˆ°äº†æ¶ˆæ¯ï¼š&#123;this.props.carName&#125;&lt;/h2&gt;                &lt;/div&gt;            )        &#125;    &#125;    class BMW extends React.Component&#123;        state = &#123;carName: &#x27;å¥¥è¿ª&#x27;&#125;        changeCar = () =&gt; &#123;            document.querySelector(&#x27;#btn&#x27;).className = &#x27;buttonVisited&#x27;            this.setState(&#123;carName: &#x27;æˆ‘ä¸æ˜¯å¥¥è¿ªï¼Œæˆ‘æ˜¯å®é©¬&#x27;&#125;)        &#125;        render()&#123;            return(                &lt;div&gt;                    &lt;h2&gt;æˆ‘æ˜¯å®é©¬&lt;/h2&gt;                    &lt;button onClick= &#123;this.changeCar&#125;&gt;ä¼ é€’&lt;/button&gt;                    &lt;Benz carName=&#123;this.state.carName&#125;/&gt;                &lt;/div&gt;            )        &#125;    &#125;    ReactDOM.render(&lt;BMW /&gt;, document.querySelector(&#x27;#box&#x27;))&lt;/script&gt;\n\nåœ¨è¿™ä¸ªç¨‹åºä¸­ï¼ŒReactDOMæ¸²æŸ“äº†BMWï¼Œè€ŒBenzåœ¨BMWçš„renderæ–¹æ³•ä¸­è°ƒç”¨ï¼Œå¹¶ä¼ é€’äº†props\nåœ¨BMWä¸­åˆå§‹åŒ–äº†stateï¼Œå®šä¹‰äº†ä¸€ä¸ªchangeCaræ–¹æ³•æ¥æ”¹å˜state\nBenzä¸­è‡ªå®šä¹‰äº†componentWillReceivePropsæ–¹æ³•ï¼Œå¹¶æ¥æ”¶äº†props ï¼Œå¦‚æœæ¥æ”¶åˆ°ï¼Œä¼šæœ‰è¾“å‡º\nç¬¬ä¸€æ¬¡æ‰“å¼€é¡µé¢ï¼š\n\nç¬¬ä¸€æ¬¡æ‰“å¼€å¹¶æ²¡æœ‰è§¦å‘componentWillReceiveProps\nç‚¹å‡»æŒ‰é’®ï¼š\n\ncomponentWillReceivePropsè§¦å‘äº†ï¼è¯´æ˜å®ƒç¡®å®æ˜¯åœ¨ç¬¬äºŒæ¬¡å¼€å§‹æ‰ä¼šè§¦å‘ï¼\næ–°ç‰ˆæœ¬ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ\nå®Œæ•´å›¾Reactç”Ÿå‘½å‘¨æœŸ-å®˜ç½‘\n\n","categories":["è®¡ç®—æœº","React"]},{"title":"é«˜é˜¶å‡½æ•°_å‡½æ•°çš„æŸ¯é‡ŒåŒ–","url":"/%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0-%E5%87%BD%E6%95%B0%E7%9A%84%E6%9F%AF%E9%87%8C%E5%8C%96/","content":"é«˜é˜¶å‡½æ•°_å‡½æ•°çš„æŸ¯é‡ŒåŒ–\nğŸ’¡ é«˜é˜¶å‡½æ•°ï¼šå¦‚æœä¸€ä¸ªå‡½æ•°ç¬¦åˆä¸‹åˆ—ä¸¤ä¸ªè§„èŒƒä¸­çš„ä»»ä½•ä¸€ä¸ªï¼Œå°±æ˜¯é«˜é˜¶å‡½æ•°\n                  1. è‹¥Aå‡½æ•°ï¼Œæ¥æ”¶çš„å‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œé‚£ä¹ˆAå°±æ˜¯é«˜é˜¶å‡½æ•°\n                  2. è‹¥Aå‡½æ•°ï¼Œè°ƒç”¨åçš„è¿”å›å€¼ä¾ç„¶æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œé‚£ä¹ˆAå°±æ˜¯é«˜é˜¶å‡½æ•°\nå‡½æ•°çš„æŸ¯é‡ŒåŒ–ï¼šé€šè¿‡å‡½æ•°è°ƒç”¨ç»§ç»­è¿”å›å‡½æ•°çš„æ–¹å¼ï¼Œå®ç°å¤šæ¬¡æ¥æ”¶å‚æ•°æœ€åç»Ÿä¸€å¤„ç†çš„å‡½æ•°ç¼–ç æ–¹å¼\n\n\n\nè¿™é‡Œä½¿ç”¨äº†ä¸Šä¸€ä¸ªè¡¨å•æ¡ˆä¾‹ï¼š\n&lt;div id=&quot;box&quot;&gt;&lt;/div&gt;&lt;script type=&quot;text/babel&quot;&gt;    class Login extends React.Component &#123;        //åˆå§‹åŒ–çŠ¶æ€        state = &#123;            username: &#x27;&#x27;,            password: &#x27;&#x27;,        &#125;        //ä¿å­˜è¡¨å•æ•°æ®åˆ°çŠ¶æ€ä¸­        saveFormData = (dataType) =&gt; &#123;            return (e) =&gt; &#123;                this.setState(&#123;[dataType]: e.target.value&#125;)            &#125;        &#125;        //è¡¨å•æäº¤çš„å›è°ƒ        handleSubmit = (e) =&gt; &#123;            e.preventDefault()            const &#123; username, password &#125; = this.state            alert(`ä½ è¾“å…¥çš„ç”¨æˆ·åæ˜¯ï¼š$&#123;username&#125;ï¼Œä½ è¾“å‡ºçš„å¯†ç æ˜¯ï¼š$&#123;password&#125;`)        &#125;        render() &#123;            // console.log(this);               return (                &lt;form action=&quot;#&quot; onSubmit=&#123;this.handleSubmit&#125; &gt;                    ç”¨æˆ·åï¼š&lt;input onChange=&#123;this.saveFormData(&#x27;username&#x27;)&#125; type=&quot;text&quot; name=&quot;username&quot; /&gt;                    å¯†ç ï¼š&lt;input onChange=&#123;this.saveFormData(&#x27;password&#x27;)&#125; type=&quot;password&quot; name=&quot;password&quot; /&gt;                    &lt;button &gt;ç™»å½•&lt;/button&gt;                &lt;/form&gt;            )        &#125;    &#125;    ReactDOM.render(&lt;Login /&gt;, document.querySelector(&#x27;#box&#x27;))&lt;/script&gt;\n\né€šè¿‡å¯¹æ¯”å‘ç°ï¼Œå¯¹å‡½æ•°ä½œäº†ç²¾ç®€\nonChangeè°ƒç”¨çš„å‡½æ•°å˜æˆäº†åŒä¸€ä¸ªå‡½æ•°ï¼Œä¸ç®¡è¡¨å•éœ€è¦è¾“å…¥å¤šå°‘æ•°æ®ï¼Œéƒ½è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ¥å¤„ç†ï¼›è°ƒç”¨å‡½æ•°æ—¶ï¼ŒåŒæ—¶ä¼ é€’ä¸€ä¸ªå‚æ•°æ¥æ ‡æ˜ï¼Œè·å–åˆ°çš„æ•°æ®ç±»å‹\né€šè¿‡å‰é¢çš„å¤šä¸ªä¾‹å­ï¼Œæˆ‘ä»¬å‘ç°äº†ä¸€ä¸ªç°è±¡ï¼Œåœ¨æ ‡ç­¾å†…è°ƒç”¨å‡½æ•°æ—¶ï¼Œå¦‚æœåŠ äº†() ï¼Œåˆ™ç¨‹åºä¼šå‡ºé—®é¢˜ï¼Œå› ä¸ºåŠ äº†() åï¼Œç¨‹åºåœ¨ä¸€å¼€å§‹å°±ä¼šè°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼ŒonChange å°±å¤±å»äº†æ•ˆæœ\né‚£ä¹ˆè¿™é‡Œä¸ºä»€ä¹ˆèƒ½ä½¿ç”¨() ä¼ é€’å‚æ•°å‘¢ï¼Ÿ\nå› ä¸ºonChange è§¦å‘çš„éœ€è¦æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè€Œè¿™é‡ŒåŠ äº†() åï¼Œåˆ™å˜æˆäº†ä¸€ä¸ªå‡½æ•°è¿”å›å€¼ï¼Œè‡ªç„¶å°±é™¤äº†BUG\næ‰€ä»¥æˆ‘ä»¬å¯ä»¥è®©é‡Œé¢çš„å‡½æ•°è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œé‚£ä¹ˆonChange å°±å¯ä»¥æ­£å¸¸å·¥ä½œäº†ï¼\nè¿™é‡Œçš„saveFormData  å°±æ˜¯ä¸€ä¸ªé«˜é˜¶å‡½æ•°ï¼\nä¸ç”¨æŸ¯é‡ŒåŒ–çš„å®ç°ä¸Šé¢çš„ä¾‹å­ï¼Œä¸ç”¨æŸ¯é‡ŒåŒ–æ€ä¹ˆå®ç°å‘¢ï¼Ÿ\n&lt;div id=&quot;box&quot;&gt;&lt;/div&gt;&lt;script type=&quot;text/babel&quot;&gt;    class Login extends React.Component &#123;        //åˆå§‹åŒ–çŠ¶æ€        state = &#123;            username: &#x27;&#x27;,            password: &#x27;&#x27;,        &#125;        //ä¿å­˜è¡¨å•æ•°æ®åˆ°çŠ¶æ€ä¸­        saveFormData = (dataType, e) =&gt; &#123;            this.setState(&#123; [dataType]: e.target.value&#125;)        &#125;        //è¡¨å•æäº¤çš„å›è°ƒ        handleSubmit = (e) =&gt; &#123;            e.preventDefault()            const &#123; username, password &#125; = this.state            alert(`ä½ è¾“å…¥çš„ç”¨æˆ·åæ˜¯ï¼š$&#123;username&#125;ï¼Œä½ è¾“å‡ºçš„å¯†ç æ˜¯ï¼š$&#123;password&#125;`)        &#125;        render() &#123;            // console.log(this);               return (                &lt;form action=&quot;#&quot; onSubmit=&#123;this.handleSubmit&#125; &gt;                    ç”¨æˆ·åï¼š&lt;input onChange=&#123;e =&gt; this.saveFormData(&#x27;username&#x27;, e) &#125; type=&quot;text&quot; name=&quot;username&quot; /&gt;                    å¯†ç ï¼š&lt;input onChange=&#123;e =&gt; this.saveFormData(&#x27;password&#x27;, e) &#125; type=&quot;password&quot; name=&quot;password&quot; /&gt;                    &lt;button &gt;ç™»å½•&lt;/button&gt;                &lt;/form&gt;            )        &#125;    &#125;    ReactDOM.render(&lt;Login /&gt;, document.querySelector(&#x27;#box&#x27;))&lt;/script&gt;\n\nç”±äºonChange åªèƒ½æ¥æ”¶å‡½æ•°ï¼Œé‚£æˆ‘ä»¬å°±ç»™ä»–å‡½æ•°\né‡Œé¢ç›´æ¥ç”¨ç®­å¤´å‡½æ•°å†™ï¼›å†™ç®­å¤´å‡½æ•°æ—¶ï¼Œå‚æ•°åªæœ‰ä¸€ä¸ªï¼Ÿæ‹¬å·çœç•¥ï¼å‡½æ•°ä½“åªæœ‰ä¸€æ¡è¯­å¥ï¼Ÿå¤§æ‹¬å·çœç•¥ï¼\nåœ¨è¿™ä¹‹å‰æŠŠsaveFormDataè¿™ä¸ªå‡½æ•°çš„è¿”å›å€¼å»æ‰ï¼Œæ”¹æˆç›´æ¥ä¿®æ”¹çŠ¶æ€state \næˆ‘ä»¬ç”¨ç®­å¤´å‡½æ•°ç›´æ¥è°ƒç”¨saveFormData è¿™ä¸ªå‡½æ•°ï¼Œä¼ è¿›ä¸¤ä¸ªå‚æ•°ï¼š1. æ•°æ®ç±»å‹æ ‡è¯† 2.æ ‡ç­¾å€¼\næœ€åå®ç°çš„åŠŸèƒ½å’Œä¸Šæ¬¡çš„ä¸€æ ·ï¼\n","categories":["è®¡ç®—æœº","React"]},{"title":"todoæ¡ˆä¾‹","url":"/todo%E6%A1%88%E4%BE%8B/","content":"æœ¬æ¡ˆä¾‹æ¥è‡ªBç«™å°šç¡…è°·Reactè¯¾ç¨‹-å¼ å¤©ç¦¹\nä½¿ç”¨vite+reactæ­å»ºè„šæ‰‹æ¶\nåœ¨srcä¸­å»ºç«‹componentsæ–‡ä»¶å¤¹ï¼Œå­˜æ”¾å­ç»„ä»¶å’Œç»„ä»¶æ ·å¼ï¼›å„ä¸ªå­ç»„ä»¶ä½¿ç”¨å„è‡ªå•ç‹¬çš„æ–‡ä»¶å¤¹\nåˆå§‹åŒ–\nåœ¨App.jsxä¸­åˆå§‹åŒ–stateï¼Œ\nstate = &#123;todos:[  &#123;id:1,name:&#x27;åƒé¥­&#x27;, done:true&#125;,  &#123;id:2,name:&#x27;ç¡è§‰&#x27;, done:false&#125;,  &#123;id:3,name:&#x27;å†™ä»£ç &#x27;, done:false&#125;]&#125;\n\nåœ¨renderä¸­ä½¿ç”¨è§£æ„èµ‹å€¼ï¼Œæ‹¿åˆ°stateä¸­çš„todosï¼›é€šè¿‡propsä¼ é€’ç»™Listç»„ä»¶\n Listä½¿ç”¨è§£æ„èµ‹å€¼æ¥æ”¶propsçš„å€¼ï¼Œæ‹¿åˆ°çš„æ˜¯ä¸€ä¸ªæ•°ç»„\n åœ¨renderä¸­ä½¿ç”¨æ•°ç»„çš„map()æ–¹æ³•éå†ï¼Œæ¯æ¬¡è¿”å›ä¸€ä¸ªï¼Œå…¶ä¸­keyä½¿ç”¨todosä¸­ç»„å€¼çš„IDï¼›åŒæ—¶ä½¿ç”¨å±•å¼€è¯­æ³•æŠŠtodosä¸­çš„æ¯ä¸€ç»„å€¼éƒ½é€šè¿‡propsä¼ é€’è¿‡å»\nconst &#123;todos&#125; = this.state //åˆå§‹åŒ–state&lt;List todos=&#123;todos&#125;/&gt; // ä¼ é€’ç»™Listç»„ä»¶const &#123; todos &#125; = this.props; //Listç»„ä»¶ä»propsä¸­æ¥æ”¶return (    //åœ¨renderæ–¹æ³•ä¸­ä½¿ç”¨map()  &lt;ul className=&quot;list-box&quot;&gt;    &#123;todos.map((todoObj) =&gt; &#123;      return &lt;Item key=&#123;todoObj.id&#125; &#123;...todoObj&#125;/&gt;; //ä½¿ç”¨å±•å¼€è¯­æ³•ä¼ é€’æ¯ä¸ªtodoé¡¹    &#125;)&#125;  &lt;/ul&gt;);\n\n è¿™æ—¶é¡µé¢ä¸Šå·²ç»åˆå§‹åŒ–å®Œæˆï¼š\n\n\n\nHeaderç»„ä»¶ï¼šã€è¾“å…¥å¾…åŠã€‘åŠŸèƒ½å› ä¸ºæ ¸å¿ƒstateåœ¨Appä¸­ï¼Œæ‰€ä»¥éµå¾ª stateåœ¨å“ªé‡Œï¼Œæ“ä½œstateçš„æ–¹æ³•å°±åœ¨é‚£é‡Œ\n\nåœ¨Appç»„ä»¶ä¸­åˆ›å»ºaddToDoæ–¹æ³•ï¼Œç”¨æ¥æ“ä½œstateï¼›é€šè¿‡propsä¼ é€’ç»™Headerç»„ä»¶ï¼ŒHeaderç»„ä»¶å†…åœ¨inputå…ƒç´ ä¸Šç»‘å®šonKeyUpäº‹ä»¶ï¼Œæ­¤äº‹ä»¶è°ƒç”¨ä¸€ä¸ªHeaderç»„ä»¶å®ä¾‹å¯¹è±¡çš„æ–¹æ³•handleKeyUp,ç”¨æ¥å¤„ç†è¾“å…¥äº‹ä»¶\n\næ¯ä¸ªtodoé¡¹éƒ½æœ‰ä¸€ä¸ªidå­—æ®µï¼Œè¿™ä¸ªå­—æ®µä¸èƒ½é‡å¤ï¼›æ‰€ä»¥ç”¨åˆ°äº†ä¸€ä¸ªIDå­—ç¬¦ç”Ÿæˆå™¨ï¼šNano ID\n//App.jsxç»„ä»¶//æ·»åŠ ä¸€ä¸ªtodoaddToDo = (todoObj) =&gt; &#123;  //è·å–state  const &#123; todos &#125; = this.state  //æ‹¿åˆ°todoå¯¹è±¡åï¼Œè·ŸåŸæ¥çš„todosåˆå¹¶  const newToDos = [todoObj,...todos]  //æ›´æ–°state  this.setState(&#123;todos:newToDos&#125;)&#125;&lt;Header addToDo=&#123;this.addToDo&#125; /&gt; //ä¼ é€’props//Header.jsxç»„ä»¶//è¾“å…¥å¾…åŠäº‹ä»¶handleKeyUp = (e) =&gt; &#123;  //æ‹¿åˆ°Appçš„ä¼ å€¼  const &#123; addToDo &#125; = this.props;  const &#123;target, keyCode&#125; = e  //æŒ‰ä¸‹çš„ä¸æ˜¯å›è½¦é”®æˆ–è€…è¾“å…¥æ¡†ä¸ºç©ºåˆ™è¿”å›  if(keyCode !== 13 || target.value.trim() === &#x27;&#x27;) return  //ç”Ÿæˆå”¯ä¸€ID  const toDoId = nanoid()  //ç»„æˆæ–°çš„å¯¹è±¡  const newToDo = &#123;id:toDoId,name:target.value,done:false&#125;  //ä¼ é€’ç»™Appç»„ä»¶  addToDo(newToDo)  //è¾“å…¥æ¡†ç½®ç©º  target.value = &#x27;&#x27;&#125;onKeyUp=&#123;this.handleKeyUp&#125; //é”®ç›˜äº‹ä»¶\n\n \n\n\nItemç»„ä»¶ï¼šã€å®Œæˆtodoé¡¹ç›®ã€‘\nåœ¨App.jsxç»„ä»¶å†…åˆ›å»ºcheckToDoæ–¹æ³•ï¼Œæ˜¯å±äºAppå®ä¾‹å¯¹è±¡çš„æ–¹æ³•ï¼›é€šè¿‡propsä¸­ä¼ é€’ç»™Listç»„ä»¶ï¼Œç„¶ååœ¨Listç»„ä»¶å†…ä¼ é€’ç»™Itemç»„ä»¶\n//App.jsxç»„ä»¶//å‹¾é€‰todocheckToDo = (id,done) =&gt; &#123;  const &#123; todos &#125; = this.state  const newToDos = todos.map(todoObj =&gt; &#123;    if(todoObj.id === id) return &#123;...todoObj,done&#125;    else return todoObj  &#125;)  this.setState(&#123;todos:newToDos&#125;)&#125;&lt;List todos=&#123;todos&#125; checkToDo=&#123;this.checkToDo&#125;/&gt; //é€šè¿‡propsä¼ é€’//Listç»„ä»¶return (  &lt;ul className=&quot;list-box&quot;&gt;    &#123;todos.map((todoObj) =&gt; &#123;      return &lt;Item key=&#123;todoObj.id&#125; &#123;...todoObj&#125; checkToDo=&#123;checkToDo&#125; /&gt;    &#125;)&#125;  &lt;/ul&gt;);\n\nåœ¨Item.jsxç»„ä»¶ä¸­åˆ›å»ºhandleCheckToDoæ–¹æ³•ï¼Œæ–¹æ³•å±äºItemç»„ä»¶å®ä¾‹å¯¹è±¡ï¼›æ–¹æ³•å†…é€šè¿‡propsæ¥æ”¶åˆ°Appä¼ è¿‡æ¥çš„checkToDoæ–¹æ³•ï¼Œæ¥æ‰§è¡Œ\n è¿˜éœ€è¦åœ¨inputå…ƒç´ ä¸Šç»‘å®šäº‹ä»¶onChange\n//Itemç»„ä»¶//å¤„ç†å‹¾é€‰todohandleCheckToDo = (id) =&gt; &#123;  const &#123; checkToDo &#125; = this.props;  return (e) =&gt; &#123;    const &#123; checked &#125; = e.target;    checkToDo(id, checked);  &#125;;&#125;;//ç»‘å®šäº‹ä»¶&lt;input  type=&quot;checkbox&quot;  checked=&#123;done&#125;  onChange=&#123;this.handleCheckToDo(id)&#125;/&gt;\n\n è¿è¡Œæ—¶æŠ¥é”™äº†\n\n åæ¥å‘ç°ç»‘å®šäº‹ä»¶å†™é”™äº†ğŸ¤£\n\n æœ€åæ•ˆæœæ˜¯ï¼šå‹¾é€‰ä¸€ä¸ªtudoæ—¶ï¼Œstateé‡Œçš„æ•°æ®ä¹Ÿä¼šéšä¹‹æ”¹å˜\n \n\n\nItemç»„ä»¶ï¼šã€åˆ é™¤ä¸€ä¸ªtodoã€‘\nåœ¨Appç»„ä»¶å†…åˆ›å»ºdeleteToDoæ–¹æ³•ï¼Œæ­¤æ–¹æ³•å±äºAppç»„ä»¶å®ä¾‹å¯¹è±¡ï¼›æ–¹æ³•ä¸­ä½¿ç”¨æ•°ç»„çš„filteræ–¹æ³•ï¼Œè¿‡æ»¤å‡ºæ²¡æœ‰è¢«åˆ é™¤çš„todoï¼Œç»„æˆæ–°æ•°ç»„ï¼›é€šè¿‡propsä¼ é€’æ­¤æ–¹æ³•ç»™Listç»„ä»¶ï¼Œæ¥ç€Listç»„ä»¶ä¼ é€’ç»™Itemç»„ä»¶\n Itemç»„ä»¶ä¸­åˆ›å»ºhandleDeleteæ–¹æ³•ï¼Œæ­¤æ–¹æ³•å±äºItemç»„ä»¶å®ä¾‹å¯¹è±¡ï¼›é€šè¿‡ç»™æŒ‰é’®æ·»åŠ ç‚¹å‡»äº‹ä»¶æ¥æ‰§è¡Œæ­¤å‡½æ•°ï¼ŒåŒæ—¶è¦ä¼ é€’ä¸€ä¸ªid\n//Appç»„ä»¶deleteToDo = (id) =&gt; &#123;  //æ‹¿åˆ°stateä¸­çš„todos  const &#123; todos &#125; = this.state;  //ä½¿ç”¨æ•°ç»„çš„filteræ–¹æ³•ï¼Œè¿‡æ»¤å‡ºæ²¡æœ‰è¢«åˆ é™¤çš„todoï¼Œç»„æˆæ–°æ•°ç»„  const newToDos = todos.filter((todoObj) =&gt; &#123;    return todoObj.id !== id;  &#125;);  //æ›´æ–°state  this.setState(&#123;todos: newToDos&#125;)&#125;;//Itemç»„ä»¶//åˆ é™¤ä¸€ä¸ªtodohandleDelete = (id) =&gt; &#123;  //ä»propsä¸­æ‹¿åˆ°deleteToDo  const &#123; deleteToDo &#125; = this.props;  return () =&gt; &#123;    //æ‰§è¡Œå¹¶ä¼ é€’è¦åˆ é™¤çš„todoçš„id    deleteToDo(id);  &#125;;&#125;;//é€šè¿‡ç‚¹å‡»äº‹ä»¶æ¥æ‰§è¡Œ&lt;button className=&quot;btn&quot; onClick=&#123;this.handleDelete(id)&#125;&gt; \n\n \n\n\nFooterç»„ä»¶ï¼šã€å…¨é€‰å’Œè®¡æ•°ã€‘\nåœ¨Appç»„ä»¶ä¸­åˆ›å»ºcheckAllToDoæ–¹æ³•ï¼Œæ­¤æ–¹æ³•å±äºAppç»„ä»¶å®ä¾‹å¯¹è±¡ï¼›æ–¹æ³•æ¥æ”¶ä¸€ä¸ªdoneå‚æ•°ï¼Œæ ‡å¿—æ˜¯å¦å‹¾é€‰ï¼›åˆ©ç”¨æ•°ç»„çš„mapæ–¹æ³•ï¼ŒæŠŠè¿™ä¸ªdoneçš„å€¼åˆå¹¶è¿›æ¯ä¸ªtodoå¯¹è±¡ä¸­\n æŠŠcheckAllToDoæ–¹æ³•ä¼ é€’ç»™Footerç»„ä»¶ï¼ŒåŒæ—¶æŠŠstateä¸­çš„todosä¹Ÿä¼ é€’è¿‡å»\n//Appç»„ä»¶//å‹¾é€‰å…¨éƒ¨todocheckAllToDo = (done) =&gt; &#123;  //æ‹¿åˆ°stateä¸­çš„todos  const &#123; todos &#125; = this.state;  //ä½¿ç”¨mapéå†æ•°ç»„ï¼Œå¹¶æŠŠdoneçš„å€¼åˆå¹¶è¿›todoå¯¹è±¡  const newToDos = todos.map((todoObj) =&gt; &#123;    return &#123; ...todoObj, done &#125;;  &#125;);  //æ›´æ–°state  this.setState(&#123;todos: newToDos&#125;)&#125;;//ä¼ é€’ç»™Footerç»„ä»¶&lt;Footer checkAllToDo=&#123;this.checkAllToDo&#125; todos=&#123;todos&#125; /&gt;\n\nåœ¨Footerç»„ä»¶ä¸­ï¼Œé€šè¿‡propsæ¥æ”¶checkAllToDoï¼›åˆ›å»ºhandleCheckAllæ–¹æ³•ï¼Œæ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œå‚æ•°æ˜¯inputçš„checkedï¼›åœ¨inputä¸Šç»‘å®šonChangeäº‹ä»¶æ¥è°ƒç”¨handleCheckAll\n//Footerç»„ä»¶const &#123; todos &#125; = this.props; //æ¥æ”¶todos//å…¨é€‰handleCheckAll = (e) =&gt; &#123;  //ä»propsä¸­æ‹¿åˆ°checkAllToDo  const &#123; checkAllToDo &#125; = this.props;  const &#123; checked &#125; = e.target;  //æ‰§è¡ŒcheckAllToDoå¹¶ä¼ é€’checked  checkAllToDo(checked);&#125;;//ç»‘å®šonChangeäº‹ä»¶&lt;input  className=&quot;checkbox&quot;  type=&quot;checkbox&quot;  onChange=&#123;this.handleCheckAll&#125;  checked=&#123;countDone === allToDo &amp;&amp; countDone !== 0 ? true : false&#125;/&gt;\n\né€šè¿‡propsæ¥æ”¶todosï¼›å…¨éƒ¨todoçš„æ•°é‡å°±æ˜¯todosæ•°ç»„çš„é•¿åº¦ï¼›å·²å®Œæˆtodoçš„æ•°é‡ä½¿ç”¨æ•°ç»„çš„reduceæ–¹æ³•éå†æ•°ç»„ï¼Œtodo.doneä¸ºtrueåˆ™æ˜¯å·²å®Œæˆï¼ŒcountDoneç»“æœå°±åŠ ä¸Šä¸€\n å½“ç„¶ï¼Œå…¨é€‰æŒ‰é’®å’Œè®¡æ•°åŠŸèƒ½æ˜¯ç›¸è¾…ç›¸æˆçš„ï¼›å½“å…¨é€‰æ—¶ï¼Œè®¡æ•°ä¸­å®Œæˆçš„æ•°é‡å°±è¦ç­‰äºå…¨éƒ¨todoçš„æ•°é‡ï¼›å½“è®¡æ•°å…¨éƒ¨ä¸º0æ—¶ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰äº†todoé¡¹ï¼Œåˆ™å…¨é€‰æŒ‰é’®ä¸åº”è¯¥è¢«é€‰ä¸­\n æ‰€ä»¥å…¨é€‰æŒ‰é’®çš„checkedå±æ€§éœ€è¦åšåˆ¤æ–­æ¥èµ‹å€¼ï¼›å½“countDoneå’ŒallToDoç›¸ç­‰å¹¶ä¸”countDoneä¸ç­‰äº0æ—¶ï¼Œåˆ™å…¨é€‰æŒ‰é’®è¢«é€‰ä¸­ï¼Œåä¹‹ä¸è¢«é€‰ä¸­\n//Footerç»„ä»¶const &#123; todos &#125; = this.props;//å·²å®Œæˆçš„todoconst countDone = todos.reduce(  (previous, todo) =&gt; previous + (todo.done ? 1 : 0),  0);//å…¨éƒ¨todoconst allToDo = todos.length;//checkedå±æ€§å€¼çš„åˆ¤æ–­checked=&#123;countDone === allToDo &amp;&amp; countDone !== 0 ? true : false&#125;\n\n \n\n\nFooterç»„ä»¶ï¼šã€æ¸…é™¤å…¨éƒ¨å·²å®Œæˆé¡¹ã€‘\nåœ¨Appç»„ä»¶ä¸­åˆ›å»ºdeleteAllDoneæ–¹æ³•ï¼Œæ­¤æ–¹æ³•å±äºAppç»„ä»¶å®ä¾‹å¯¹è±¡ï¼›deleteAllDoneä¸­å…ˆæ‹¿åˆ°stateä¸­çš„todosï¼Œç„¶åä½¿ç”¨æ•°ç»„æ–¹æ³•filterï¼Œè¿‡æ»¤å‡ºdoneå€¼ä¸ºfalseçš„todoé¡¹ï¼Œå¹¶ç”Ÿæˆæ–°æ•°ç»„ï¼›å¦‚æœæ–°æ•°ç»„çš„é•¿åº¦å’Œtodosçš„é•¿åº¦ä¸€è‡´ï¼Œåˆ™è¡¨æ˜æ²¡æœ‰å·²å®Œæˆé¡¹ï¼Œå°±returnï¼›å¦åˆ™æ›´æ–°state\n é€šè¿‡propsä¼ é€’ç»™Footerç»„ä»¶\n//Appç»„ä»¶//åˆ é™¤å…¨éƒ¨å·²å®ŒæˆdeleteAllDone = () =&gt; &#123;  //æ‹¿åˆ°todos  const &#123; todos &#125; = this.state;  //è¿‡æ»¤å‡ºdoneå€¼ä¸ºfalseçš„todoé¡¹  const newToDos = todos.filter((todoObj) =&gt; !todoObj.done);  if(newToDos.length === todos.length) return  //æ›´æ–°state  this.setState(&#123;todos: newToDos&#125;)&#125;;//ä¼ é€’&lt;Footer  checkAllToDo=&#123;this.checkAllToDo&#125;  todos=&#123;todos&#125;  deleteAllDone=&#123;this.deleteAllDone&#125;/&gt;\n\nFooterç»„ä»¶ä¸­åœ¨buttonä¸Šç»‘å®šç‚¹å‡»äº‹ä»¶ï¼Œè§¦å‘handDeleteAllDoneæ–¹æ³•ï¼›è¯¥æ–¹æ³•å±äºFooterå®ä¾‹å¯¹è±¡ï¼›handDeleteAllDoneè§¦å‘ä»propsä¸­æ¥æ”¶åˆ°çš„æ–¹æ³•deleteAllDone\n//Footerç»„ä»¶//åˆ é™¤å…¨éƒ¨å·²å®ŒæˆhandDeleteAllDone = () =&gt; &#123;  const &#123; deleteAllDone &#125; = this.props;  if(window.confirm(&#x27;ç¡®å®šè¦åˆ é™¤å…¨éƒ¨å·²å®Œæˆçš„é¡¹ç›®ä¹ˆï¼Ÿ&#x27;))&#123;    deleteAllDone();  &#125;&#125;;//ç»‘å®šäº‹ä»¶&lt;button className=&quot;btn-clear&quot; onClick=&#123;this.handDeleteAllDone&#125;&gt;\n\n \n\n\nğŸ˜todoæ¡ˆä¾‹å®Œæˆ \næœ¬æ¡ˆä¾‹æ¥è‡ªBç«™å°šç¡…è°·Reactè¯¾ç¨‹-å¼ å¤©ç¦¹\n","categories":["è®¡ç®—æœº","React"]}]